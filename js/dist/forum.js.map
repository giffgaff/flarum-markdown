{"version":3,"sources":["webpack://@flarum/markdown/webpack/bootstrap","webpack://@flarum/markdown/external \"flarum.core.compat['extend']\"","webpack://@flarum/markdown/external \"flarum.core.compat['components/TextEditor']\"","webpack://@flarum/markdown/external \"flarum.core.compat['Component']\"","webpack://@flarum/markdown/mdarea.js","webpack://@flarum/markdown/external \"flarum.core.compat['helpers/icon']\"","webpack://@flarum/markdown/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@flarum/markdown/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/markdown/./src/forum/components/MarkdownToolbar.js","webpack://@flarum/markdown/./src/forum/util/insertText.js","webpack://@flarum/markdown/./src/forum/util/styles.js","webpack://@flarum/markdown/./src/forum/util/apply.js","webpack://@flarum/markdown/./src/forum/components/MarkdownButton.js","webpack://@flarum/markdown/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","self","define","ctrlKey","test","navigator","platform","reDoubledInline","rePrefix","reSingleQuotePrefix","reList","reListEnd","reCleanIndent","rePureIndent","reIncrement","reStripLast","reMkIndent","codeBlocks","`","~","openingParens","[","(","{","<","closingParens","]",")","}",">","defaultKeymap","enter","indent","outdent","inline","MarkdownArea","elem","options","this","_options","keyMap","knownKeys","list","action","keys","Array","isArray","toString","trim","split","push","apply","map","normalizeKey","forEach","shortcut","altKey","shiftKey","metaKey","length","join","_reOutdent","RegExp","_handleKey","setElement","opts","k","toLowerCase","e","selectionStart","selectionEnd","arguments","window","evt","InputEvent","dispatchEvent","toIndent","prefix","pure","replace","constructor","getElement","_elem","removeEventListener","addEventListener","getValue","setValue","destroy","defaultPrevented","find","prop","substring","selection","postfix","shift","str","offset","line","info","lastIndexOf","exec","charAt","base","_","parseInt","reOutdent","slice","preventDefault","_setPrototypeOf","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","modifierKey","userAgent","match","MarkdownToolbar","oncreate","vnode","document","getElementById","attrs","view","id","data-for","style","display","children","event","button","element","querySelector","click","Component","canInsertText","isMultipleLines","string","repeat","wordSelectionStart","text","index","wordSelectionEnd","multiline","breakpoint","newlinesToSurroundSelectedText","textarea","newlinesToAppend","newlinesToPrepend","beforeSelection","afterSelection","breaksBefore","breaksAfter","newlinesBeforeSelection","newlinesAfterSelection","blockStyle","arg","suffix","blockPrefix","blockSuffix","replaceNext","prefixSpace","scanFor","surroundWithNewlines","originalSelectionStart","originalSelectionEnd","selectedText","prefixToUse","suffixToUse","undefined","expandedSelectionStart","expandedSelectionEnd","beginsWithPrefix","endsWithSuffix","expandSelectedText","hasReplaceNext","indexOf","ref","startsWith","endsWith","replacementText","position","Math","max","min","whitespaceEdges","trimFirst","leadingWhitespace","trailingWhitespace","styleSelectedText","styleArgs","result","orderedList","startOfLine","endOfLine","orderedListRegex","noInitialSelection","textToUnstyle","lines","linesBefore","linesToUnstyle","every","lengthDiff","len","results","multilineStyle","before","after","contentEditable","execCommand","error","createEvent","initEvent","setSelectionRange","insertText","MarkdownButton","$","tooltip","className","title","data-hotkey","hotkey","onclick","onkeydown","keydown","icon","stylesToApply","toolbar","parentElement","assign","field","dataset","focus","app","initializers","add","extend","TextEditor","textareaId","vdom","editor","items","translator","trans","for"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['Component'];","(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.MarkdownArea = factory();\n    }\n})(typeof self !== 'undefined' ? self : this, function() {\n\n    var isMac = /mac|iphone|ipad|ipod/i.test(navigator.platform),\n        ctrlKey = isMac ? 'metaKey' : 'ctrlKey',\n        reDoubledInline = /[*_]/,\n        rePrefix = /^[ \\t]*(?:(?:[-+*]|\\d+\\.)[ \\t]+(?:\\[[ x]][ \\t]+)?|>[ \\t]*)*(?::[ \\t]*)?/,\n        reSingleQuotePrefix = /[-=\\s\"'`<>\\[\\](){}+*^$\\\\.|]$/,\n        reList = /(?:[-+*]|\\d+\\.)[ \\t]+(?:\\[[ x]][ \\t]+)?$/,\n        reListEnd = /^(?:\\n|$)/,\n        reCleanIndent = /[-+*\\[\\]x\\d.]/g,\n        rePureIndent = /[^ \\t]/g,\n        reIncrement = /(\\d+)\\.(?=[ \\t]+$)/,\n        reStripLast = /(?:(?:^[ \\t]+)?(?:[-+*]|\\d+\\.|[>:])(?:[ \\t]+\\[[ x]])?[ \\t]*|^[ \\t]+)$/,\n        reMkIndent = /^(?!$)/mg,\n        codeBlocks = {'`': /^``$/m, '~': /^~~$/m},\n        openingParens = {'[': ']', '(': ')', '{': '}', '<': '>'},\n        closingParens = {']': '[', ')': '(', '}': '{', '>': '<'};\n\n    var defaultKeymap = {\n        enter: ['Enter', 'Shift+Enter'],\n        indent: ['Tab', 'Cmd+m'],\n        outdent: ['Shift+Tab', 'Cmd+Shift+m'],\n        inline: ['\"', \"'\", '`', '*', '_', '[', ']', '(', ')', '{', '}', '<', '>'],\n    };\n\n\n    function MarkdownArea(elem, options) {\n        this._options = normalizeOptions(options);\n        this._reOutdent = new RegExp('^' + this._options.indent, 'mg');\n        this._handleKey = this._handleKey.bind(this);\n        this.setElement(elem);\n    }\n\n    MarkdownArea.prototype = {\n        constructor: MarkdownArea,\n\n        getElement: function () {\n            return this._elem;\n        },\n\n        setElement: function (elem) {\n            if (this._elem) {\n                this._elem.removeEventListener('keydown', this._handleKey);\n            }\n\n            this._elem = elem;\n            elem.addEventListener('keydown', this._handleKey);\n        },\n\n        getValue: function () {\n            return this._elem.value;\n        },\n\n        setValue: function (value) {\n            this._elem.value = value;\n        },\n\n        destroy: function () {\n            this._elem.removeEventListener('keydown', this._handleKey);\n            this._elem = this._options = this._reOutdent = this._handleKey = null;\n        },\n\n        _handleKey: function (evt) {\n            if (!evt.defaultPrevented) {\n                var shortcut = this._options.keyMap.find(function(shortcut) {\n                    return matchesKey(evt, shortcut.key);\n                });\n\n                if (shortcut) {\n                    var prefix = this._elem.value.substring(0, this._elem.selectionStart),\n                        selection = this._elem.value.substring(this._elem.selectionStart, this._elem.selectionEnd),\n                        postfix = this._elem.value.substring(this._elem.selectionEnd);\n\n                    switch (shortcut.action) {\n                        case 'enter':\n                            handleEnterKey(this._elem, prefix, selection, postfix, this._options.indent, evt.shiftKey);\n                            break;\n                        case 'indent':\n                            handleIndentKey(this._elem, prefix, selection, postfix, this._options.indent);\n                            break;\n                        case 'outdent':\n                            handleOutdentKey(this._elem, prefix, selection, postfix, this._options.indent, this._reOutdent);\n                            break;\n                        case 'inline':\n                            handleInlineKey(this._elem, prefix, selection, postfix, evt.key);\n                            break;\n                    }\n\n                    evt.preventDefault();\n                }\n            }\n        }\n    };\n\n    function normalizeOptions(options) {\n        options || (options = {});\n        options.keyMap = normalizeKeyMap(options.keyMap);\n        options.indent = normalizeIndent(options.indent || 4);\n        return options;\n    }\n\n    function normalizeKeyMap(keyMap) {\n        keyMap || (keyMap = {});\n        var knownKeys = {};\n        var list = [];\n\n        for (var action in defaultKeymap) if (defaultKeymap.hasOwnProperty(action)) {\n            var keys = keyMap[action] || defaultKeymap[action];\n\n            if (!Array.isArray(keys)) {\n                keys = keys.toString().trim().split(/\\s*[|,]\\s*/g);\n            }\n\n            list.push.apply(list, keys.map(function(key) {\n                key = normalizeKey(key);\n                key.key in knownKeys || (knownKeys[key.key] = 0);\n                ++knownKeys[key.key];\n\n                return {\n                    key: key,\n                    action: action\n                };\n            }));\n        }\n\n        list.forEach(function(shortcut) {\n            if (knownKeys[shortcut.key.key] > 1) {\n                completeModifiers(shortcut.key);\n            }\n        });\n\n        return list;\n    }\n\n    function normalizeKey(key) {\n        var opts = {};\n\n        key.trim().split(/\\s*\\+\\s*/g).forEach(function(k) {\n            switch (k.toLowerCase()) {\n                case 'cmd':\n                    opts[ctrlKey] = true;\n                    break;\n                case 'ctrl':\n                case 'alt':\n                case 'shift':\n                case 'meta':\n                    opts[k.toLowerCase() + 'Key'] = true;\n                    break;\n                default:\n                    opts.key = k;\n            }\n        });\n\n        return opts;\n    }\n\n    function completeModifiers(key) {\n        'ctrlKey' in key || (key.ctrlKey = false);\n        'altKey' in key || (key.altKey = false);\n        'shiftKey' in key || (key.shiftKey = false);\n        'metaKey' in key || (key.metaKey = false);\n    }\n\n    function normalizeIndent(indent) {\n        if (typeof indent !== 'number') {\n            indent = (indent + '').length;\n        }\n\n        return new Array(indent + 1).join(' ');\n    }\n\n    function matchesKey(evt, key) {\n        for (var prop in key) if (key.hasOwnProperty(prop)) {\n            if (evt[prop] !== key[prop]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function handleEnterKey (elem, prefix, selection, postfix, indent, shift) {\n        var info = !selection ? getLineInfo(prefix) : null;\n\n        if (!selection) {\n            if (info.line && info.line.charAt(info.line.length - 1) in openingParens) {\n                var base = (info.prefix ? toIndent(info.prefix, true) : '');\n                postfix = \"\\n\" + base + postfix;\n\n                if (!shift) {\n                    prefix += \"\\n\" + base + indent;\n                }\n            } else if (info.prefix) {\n                if (!shift && info.prefix === info.line && reListEnd.test(postfix)) {\n                    prefix = prefix.substring(0, info.offset) + stripLast(info.prefix);\n                } else if (!shift && isList(info.prefix)) {\n                    prefix += \"\\n\" + increment(info.prefix);\n                } else {\n                    prefix += \"\\n\" + toIndent(info.prefix, shift);\n                }\n            } else {\n                prefix += \"\\n\";\n            }\n        } else {\n            prefix += \"\\n\";\n        }\n\n        apply(elem, prefix + postfix, prefix.length);\n    }\n\n    function handleIndentKey (elem, prefix, selection, postfix, indent) {\n        var s = prefix.length,\n            n = prefix.lastIndexOf(\"\\n\") + 1;\n\n        if (n < s) {\n            selection = prefix.substring(n) + selection;\n            prefix = prefix.substring(0, n);\n        }\n\n        if (n < s || !selection) {\n            s += indent.length;\n        }\n\n        if (selection) {\n            selection = selection.replace(reMkIndent, indent);\n        } else {\n            prefix += indent;\n        }\n\n        apply(elem, prefix + selection + postfix, s, selection ? n + selection.length : s);\n    }\n\n    function handleOutdentKey (elem, prefix, selection, postfix, indent, reOutdent) {\n        var s = prefix.length,\n            n = prefix.lastIndexOf(\"\\n\") + 1;\n\n        if (n < s) {\n            selection = prefix.substring(n) + selection;\n            prefix = prefix.substring(0, n);\n\n            if (selection.substring(0, indent.length) === indent) {\n                s -= indent.length;\n            }\n        }\n\n        selection = selection.replace(reOutdent, '');\n        apply(elem, prefix + selection + postfix, s, n + selection.length);\n    }\n\n    function handleInlineKey (elem, prefix, selection, postfix, key) {\n        if (!selection && !(key in openingParens) && postfix.charAt(0) === key) {\n            apply(elem, prefix + (reDoubledInline.test(key) ? key + key : '') + postfix, prefix.length + 1);\n        } else if (!selection && (key === \"'\" && !reSingleQuotePrefix.test(prefix) || key in closingParens)) {\n            apply(elem, prefix + key + postfix, prefix.length + 1);\n        } else if (!selection && key in codeBlocks && codeBlocks[key].test(prefix)) {\n            apply(elem, prefix + key + \"language\\n\" + key + key + key + (postfix.charAt(0) !== \"\\n\" ? \"\\n\" : '') + postfix, prefix.length + 1, prefix.length + 9);\n        } else if (key === prefix.slice(-1) && key === postfix.slice(0, 1)) {\n            apply(\n                elem,\n                prefix.slice(0, -1) + selection + postfix.slice(1),\n                prefix.length - 1,\n                prefix.length - 1 + selection.length\n            );\n        } else {\n            apply(\n                elem,\n                prefix + (closingParens[key] || key) + selection + (openingParens[key] || key) + postfix,\n                prefix.length + 1,\n                prefix.length + 1 + selection.length\n            );\n        }\n    }\n\n    function apply(elem, value, s, e) {\n        elem.value = value;\n        elem.selectionStart = s;\n        elem.selectionEnd = arguments.length > 3 ? e : s;\n\n        if ('InputEvent' in window) try {\n            var evt = new InputEvent('input');\n            elem.dispatchEvent(evt);\n        } catch (e) { }\n    }\n\n    function getLineInfo(str) {\n        var offset = str.lastIndexOf(\"\\n\") + 1,\n            line = str.substring(offset),\n            m = rePrefix.exec(line);\n\n        return {\n            line: line,\n            offset: offset,\n            prefix: m && m[0]\n        };\n    }\n\n    function isList(prefix) {\n        return reList.test(prefix);\n    }\n\n    function toIndent(prefix, pure) {\n        return prefix.replace(pure ? rePureIndent : reCleanIndent, ' ');\n    }\n\n    function increment(prefix) {\n        return prefix.replace(reIncrement, function (_, n) {\n            return (parseInt(n) + 1) + '.';\n        })\n    }\n\n    function stripLast(prefix) {\n        return prefix.replace(reStripLast, '');\n    }\n\n\n    return MarkdownArea;\n\n});\n","module.exports = flarum.core.compat['helpers/icon'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import Component from 'flarum/Component';\n\nconst modifierKey = navigator.userAgent.match(/Macintosh/) ? 'Meta' : 'Control';\n\nexport default class MarkdownToolbar extends Component {\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    const field = document.getElementById(this.attrs.for);\n\n    field.addEventListener('keydown', this.shortcut.bind(this));\n  }\n\n  view(vnode) {\n    return <div id=\"MarkdownToolbar\" data-for={this.attrs.for} style={{ display: 'inline-block' }}>\n      {vnode.children}\n    </div>;\n  }\n\n  shortcut(event) {\n    if ((event.metaKey && modifierKey === 'Meta') || (event.ctrlKey && modifierKey === 'Control')) {\n      const button = this.element.querySelector(`[data-hotkey=\"${event.key}\"]`);\n\n      if (button) {\n        button.click();\n        event.preventDefault()\n      }\n    }\n  }\n}\n","/*\n * Original Copyright GitHub, Inc. Licensed under the MIT License.\n * See license text at https://github.com/github/markdown-toolbar-element/blob/master/LICENSE.\n */\n\nexport let canInsertText = null;\n\nexport default (textarea, { text, selectionStart, selectionEnd }) => {\n  const originalSelectionStart = textarea.selectionStart;\n  const before = textarea.value.slice(0, originalSelectionStart);\n  const after = textarea.value.slice(textarea.selectionEnd);\n\n  if (canInsertText === null || canInsertText === true) {\n    textarea.contentEditable = 'true';\n    try {\n      canInsertText = document.execCommand('insertText', false, text);\n    }\n    catch (error) {\n      canInsertText = false;\n    }\n    textarea.contentEditable = 'false';\n  }\n  if (canInsertText && !textarea.value.slice(0, textarea.selectionStart).endsWith(text)) {\n    canInsertText = false;\n  }\n  if (!canInsertText) {\n    try {\n      document.execCommand('ms-beginUndoUnit');\n    }\n    catch (e) {\n      // Do nothing.\n    }\n    textarea.value = before + text + after;\n    try {\n      document.execCommand('ms-endUndoUnit');\n    }\n    catch (e) {\n      // Do nothing.\n    }\n\n    // fire custom event, works on IE\n    const event = document.createEvent('Event');\n\n    event.initEvent('input', true, true);\n\n    textarea.dispatchEvent(event);\n  }\n  if (selectionStart != null && selectionEnd != null) {\n    textarea.setSelectionRange(selectionStart, selectionEnd);\n  }\n  else {\n    textarea.setSelectionRange(originalSelectionStart, textarea.selectionEnd);\n  }\n};\n","/*\n * Original Copyright GitHub, Inc. Licensed under the MIT License.\n * See license text at https://github.com/github/markdown-toolbar-element/blob/master/LICENSE.\n */\n\nexport function isMultipleLines(string) {\n  return string.trim().split('\\n').length > 1;\n}\n\nexport function repeat(string, n) {\n  return Array(n + 1).join(string);\n}\n\nexport function wordSelectionStart(text, i) {\n  let index = i;\n\n  while (text[index] && text[index - 1] != null && !text[index - 1].match(/\\s/)) {\n    index--;\n  }\n\n  return index;\n}\n\nexport function wordSelectionEnd(text, i, multiline) {\n  let index = i;\n  const breakpoint = multiline ? /\\n/ : /\\s/;\n\n  while (text[index] && !text[index].match(breakpoint)) {\n    index++;\n  }\n\n  return index;\n}\n\nexport function expandSelectedText(textarea, prefixToUse, suffixToUse) {\n  let multiline = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  if (textarea.selectionStart === textarea.selectionEnd) {\n    textarea.selectionStart = wordSelectionStart(textarea.value, textarea.selectionStart);\n    textarea.selectionEnd = wordSelectionEnd(textarea.value, textarea.selectionEnd, multiline);\n  } else {\n    const expandedSelectionStart = textarea.selectionStart - prefixToUse.length;\n    const expandedSelectionEnd = textarea.selectionEnd + suffixToUse.length;\n    const beginsWithPrefix = textarea.value.slice(expandedSelectionStart, textarea.selectionStart) === prefixToUse;\n    const endsWithSuffix = textarea.value.slice(textarea.selectionEnd, expandedSelectionEnd) === suffixToUse;\n\n    if (beginsWithPrefix && endsWithSuffix) {\n      textarea.selectionStart = expandedSelectionStart;\n      textarea.selectionEnd = expandedSelectionEnd;\n    }\n  }\n\n  return textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n}\n\nexport function newlinesToSurroundSelectedText(textarea) {\n  const beforeSelection = textarea.value.slice(0, textarea.selectionStart);\n  const afterSelection = textarea.value.slice(textarea.selectionEnd);\n  const breaksBefore = beforeSelection.match(/\\n*$/);\n  const breaksAfter = afterSelection.match(/^\\n*/);\n  const newlinesBeforeSelection = breaksBefore ? breaksBefore[0].length : 0;\n  const newlinesAfterSelection = breaksAfter ? breaksAfter[0].length : 0;\n  let newlinesToAppend;\n  let newlinesToPrepend;\n\n  if (beforeSelection.match(/\\S/) && newlinesBeforeSelection < 2) {\n    newlinesToAppend = repeat('\\n', 2 - newlinesBeforeSelection);\n  }\n\n  if (afterSelection.match(/\\S/) && newlinesAfterSelection < 2) {\n    newlinesToPrepend = repeat('\\n', 2 - newlinesAfterSelection);\n  }\n\n  if (newlinesToAppend == null) {\n    newlinesToAppend = '';\n  }\n\n  if (newlinesToPrepend == null) {\n    newlinesToPrepend = '';\n  }\n\n  return {\n    newlinesToAppend,\n    newlinesToPrepend\n  };\n}\n\nexport const blockStyle = (textarea, arg) => {\n  let newlinesToAppend;\n  let newlinesToPrepend;\n  const { prefix, suffix, blockPrefix, blockSuffix, replaceNext, prefixSpace, scanFor, surroundWithNewlines } = arg;\n  const originalSelectionStart = textarea.selectionStart;\n  const originalSelectionEnd = textarea.selectionEnd;\n  let selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let prefixToUse = isMultipleLines(selectedText) && blockPrefix.length > 0 ? `${blockPrefix}\\n` : prefix;\n  let suffixToUse = isMultipleLines(selectedText) && blockSuffix.length > 0 ? `\\n${blockSuffix}` : suffix;\n\n  if (prefixSpace) {\n    const beforeSelection = textarea.value[textarea.selectionStart - 1];\n    if (textarea.selectionStart !== 0 && beforeSelection != null && !beforeSelection.match(/\\s/)) {\n      prefixToUse = ` ${prefixToUse}`;\n    }\n  }\n\n  selectedText = expandSelectedText(textarea, prefixToUse, suffixToUse, arg.multiline);\n  let selectionStart = textarea.selectionStart;\n  let selectionEnd = textarea.selectionEnd;\n  const hasReplaceNext = replaceNext.length > 0 && suffixToUse.indexOf(replaceNext) > -1 && selectedText.length > 0;\n\n  if (surroundWithNewlines) {\n    const ref = newlinesToSurroundSelectedText(textarea);\n    newlinesToAppend = ref.newlinesToAppend;\n    newlinesToPrepend = ref.newlinesToPrepend;\n    prefixToUse = newlinesToAppend + prefix;\n    suffixToUse += newlinesToPrepend;\n  }\n\n  if (selectedText.startsWith(prefixToUse) && selectedText.endsWith(suffixToUse)) {\n    const replacementText = selectedText.slice(prefixToUse.length, selectedText.length - suffixToUse.length);\n    if (originalSelectionStart === originalSelectionEnd) {\n      let position = originalSelectionStart - prefixToUse.length;\n      position = Math.max(position, selectionStart);\n      position = Math.min(position, selectionStart + replacementText.length);\n      selectionStart = selectionEnd = position;\n    }\n    else {\n      selectionEnd = selectionStart + replacementText.length;\n    }\n    return { text: replacementText, selectionStart, selectionEnd };\n  }\n  else if (!hasReplaceNext) {\n    let replacementText = prefixToUse + selectedText + suffixToUse;\n    selectionStart = originalSelectionStart + prefixToUse.length;\n    selectionEnd = originalSelectionEnd + prefixToUse.length;\n    const whitespaceEdges = selectedText.match(/^\\s*|\\s*$/g);\n    if (arg.trimFirst && whitespaceEdges) {\n      const leadingWhitespace = whitespaceEdges[0] || '';\n      const trailingWhitespace = whitespaceEdges[1] || '';\n      replacementText = leadingWhitespace + prefixToUse + selectedText.trim() + suffixToUse + trailingWhitespace;\n      selectionStart += leadingWhitespace.length;\n      selectionEnd -= trailingWhitespace.length;\n    }\n    return { text: replacementText, selectionStart, selectionEnd };\n  }\n  else if (scanFor.length > 0 && selectedText.match(scanFor)) {\n    suffixToUse = suffixToUse.replace(replaceNext, selectedText);\n    const replacementText = prefixToUse + suffixToUse;\n    selectionStart = selectionEnd = selectionStart + prefixToUse.length;\n    return { text: replacementText, selectionStart, selectionEnd };\n  }\n  else {\n    const replacementText = prefixToUse + selectedText + suffixToUse;\n    selectionStart = selectionStart + prefixToUse.length + selectedText.length + suffixToUse.indexOf(replaceNext);\n    selectionEnd = selectionStart + replaceNext.length;\n    return { text: replacementText, selectionStart, selectionEnd };\n  }\n}\n\nexport const multilineStyle = (textarea, arg) => {\n  const { prefix, suffix, surroundWithNewlines } = arg;\n  let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let selectionStart = textarea.selectionStart;\n  let selectionEnd = textarea.selectionEnd;\n  const lines = text.split('\\n');\n  const undoStyle = lines.every(line => line.startsWith(prefix) && line.endsWith(suffix));\n  if (undoStyle) {\n    text = lines.map(line => line.slice(prefix.length, line.length - suffix.length)).join('\\n');\n    selectionEnd = selectionStart + text.length;\n  }\n  else {\n    text = lines.map(line => prefix + line + suffix).join('\\n');\n    if (surroundWithNewlines) {\n      const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n      selectionStart += newlinesToAppend.length;\n      selectionEnd = selectionStart + text.length;\n      text = newlinesToAppend + text + newlinesToPrepend;\n    }\n  }\n  return { text, selectionStart, selectionEnd };\n}\n\nexport const orderedList = (textarea) => {\n  const orderedListRegex = /^\\d+\\.\\s+/;\n  const noInitialSelection = textarea.selectionStart === textarea.selectionEnd;\n  let selectionEnd;\n  let selectionStart;\n  let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let textToUnstyle = text;\n  let lines = text.split('\\n');\n  let startOfLine, endOfLine;\n  if (noInitialSelection) {\n    const linesBefore = textarea.value.slice(0, textarea.selectionStart).split(/\\n/);\n    startOfLine = textarea.selectionStart - linesBefore[linesBefore.length - 1].length;\n    endOfLine = wordSelectionEnd(textarea.value, textarea.selectionStart, true);\n    textToUnstyle = textarea.value.slice(startOfLine, endOfLine);\n  }\n  const linesToUnstyle = textToUnstyle.split('\\n');\n  const undoStyling = linesToUnstyle.every(line => orderedListRegex.test(line));\n  if (undoStyling) {\n    lines = linesToUnstyle.map(line => line.replace(orderedListRegex, ''));\n    text = lines.join('\\n');\n    if (noInitialSelection && startOfLine && endOfLine) {\n      const lengthDiff = linesToUnstyle[0].length - lines[0].length;\n      selectionStart = selectionEnd = textarea.selectionStart - lengthDiff;\n      textarea.selectionStart = startOfLine;\n      textarea.selectionEnd = endOfLine;\n    }\n  }\n  else {\n    lines = (function () {\n      let i;\n      let len;\n      let index;\n      const results = [];\n      for (index = i = 0, len = lines.length; i < len; index = ++i) {\n        const line = lines[index];\n        results.push(`${index + 1}. ${line}`);\n      }\n      return results;\n    })();\n    text = lines.join('\\n');\n    const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n    selectionStart = textarea.selectionStart + newlinesToAppend.length;\n    selectionEnd = selectionStart + text.length;\n    if (noInitialSelection)\n      selectionStart = selectionEnd;\n    text = newlinesToAppend + text + newlinesToPrepend;\n  }\n  return { text, selectionStart, selectionEnd };\n}\n","/*\n * Original Copyright GitHub, Inc. Licensed under the MIT License.\n * See license text at https://github.com/github/markdown-toolbar-element/blob/master/LICENSE.\n */\n\nimport insertText from './insertText';\nimport { blockStyle, isMultipleLines, multilineStyle, orderedList } from './styles';\n\nexport const styleSelectedText = (textarea, styleArgs) => {\n  const text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let result;\n  if (styleArgs.orderedList) {\n    result = orderedList(textarea);\n  }\n  else if (styleArgs.multiline && isMultipleLines(text)) {\n    result = multilineStyle(textarea, styleArgs);\n  }\n  else {\n    result = blockStyle(textarea, styleArgs);\n  }\n\n  insertText(textarea, result);\n};\n\nexport default (button, stylesToApply) => {\n  const toolbar = button.parentElement;\n\n  const defaults = {\n    prefix: '',\n    suffix: '',\n    blockPrefix: '',\n    blockSuffix: '',\n    multiline: false,\n    replaceNext: '',\n    prefixSpace: false,\n    scanFor: '',\n    surroundWithNewlines: false,\n    orderedList: false,\n    trimFirst: false\n  };\n\n  const style = Object.assign({}, defaults, stylesToApply);\n\n  const field = document.getElementById(toolbar.dataset.for);\n\n  if (field) {\n    field.focus();\n    styleSelectedText(field, style);\n  }\n}\n","import Component from 'flarum/Component';\nimport icon from 'flarum/helpers/icon';\nimport apply from '../util/apply';\n\nconst modifierKey = navigator.userAgent.match(/Macintosh/) ? '⌘' : 'ctrl';\n\nexport default class MarkdownButton extends Component {\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$().tooltip();\n  }\n\n  view() {\n    return (\n      <button className=\"Button Button--icon Button--link\" title={this.title()} data-hotkey={this.attrs.hotkey}\n        onclick={this.click.bind(this)} onkeydown={this.keydown.bind(this)}>\n        {icon(this.attrs.icon)}\n      </button>\n    );\n  }\n\n  keydown(event) {\n    if (event.key === ' ' || event.key === 'Enter') {\n      event.preventDefault();\n      this.click();\n    }\n  }\n\n  click() {\n    return apply(this.element, this.attrs.style);\n  }\n\n  title() {\n    let tooltip = this.attrs.title;\n\n    if (this.attrs.hotkey) tooltip += ` <${modifierKey}-${this.attrs.hotkey}>`;\n\n    return tooltip;\n  }\n}\n","/*!\n * Includes modified code from GitHub Markdown Toolbar Element\n * https://github.com/github/markdown-toolbar-element/\n *\n * Original Copyright GitHub, Inc.\n * Released under the MIT license\n * https://github.com/github/markdown-toolbar-element/blob/master/LICENSE\n */\n\nimport { extend } from 'flarum/extend';\nimport TextEditor from 'flarum/components/TextEditor';\nimport MarkdownArea from 'mdarea';\n\nimport MarkdownToolbar from './components/MarkdownToolbar';\nimport MarkdownButton from './components/MarkdownButton';\n\napp.initializers.add('flarum-markdown', function(app) {\n  let index = 1;\n\n  extend(TextEditor.prototype, 'oninit', function() {\n    this.textareaId = 'textarea'+(index++);\n  });\n\n  extend(TextEditor.prototype, 'view', function(vdom) {\n    vdom.children[0].attrs.id = this.textareaId;\n  });\n\n  extend(TextEditor.prototype, 'oncreate', function() {\n    this.editor = new MarkdownArea(this.$('textarea')[0], {\n      keyMap: {\n        indent: ['Ctrl+m'],\n        outdent: ['Ctrl+M']\n      }\n    });\n  });\n\n  extend(TextEditor.prototype, 'onremove', function () {\n    this.editor.destroy();\n  });\n\n  extend(TextEditor.prototype, 'toolbarItems', function(items) {\n    const tooltip = name => app.translator.trans(`flarum-markdown.forum.composer.${name}_tooltip`);\n\n    items.add('markdown', (\n      <MarkdownToolbar for={this.textareaId}>\n        <MarkdownButton title={tooltip('header')} icon=\"fas fa-heading\" style={{ prefix: '### ' }} />\n        <MarkdownButton title={tooltip('bold')} icon=\"fas fa-bold\" style={{ prefix: '**', suffix: '**', trimFirst: true }} hotkey=\"b\" />\n        <MarkdownButton title={tooltip('italic')} icon=\"fas fa-italic\" style={{ prefix: '_', suffix: '_', trimFirst: true }} hotkey=\"i\" />\n        <MarkdownButton title={tooltip('quote')} icon=\"fas fa-quote-left\" style={{ prefix: '> ', multiline: true, surroundWithNewlines: true }} />\n        <MarkdownButton title={tooltip('code')} icon=\"fas fa-code\" style={{ prefix: '`', suffix: '`', blockPrefix: '```', blockSuffix: '```' }} />\n        <MarkdownButton title={tooltip('link')} icon=\"fas fa-link\" style={{ prefix: '[', suffix: '](https://)', replaceNext: 'https://', scanFor: 'https?://' }} />\n        <MarkdownButton title={tooltip('image')} icon=\"fas fa-image\" style={{ prefix: '![', suffix: '](https://)', replaceNext: 'https://', scanFor: 'https?://' }} />\n        <MarkdownButton title={tooltip('unordered_list')} icon=\"fas fa-list-ul\" style={{ prefix: '- ', multiline: true, surroundWithNewlines: true }} />\n        <MarkdownButton title={tooltip('ordered_list')} icon=\"fas fa-list-ol\" style={{ prefix: '1. ', multiline: true, orderedList: true }} />\n      </MarkdownToolbar>\n    ), 100);\n  });\n});\n"],"sourceRoot":""}